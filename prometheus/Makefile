# builds and tests project via go tools
all:
	@echo "update dependencies"
	go get -u ./...
	go mod tidy
	@echo "build and test"
	go build -v ./...
	go vet ./...
	golint -set_exit_status=true ./...
	staticcheck -checks all -fail none ./...
	golangci-lint run ./...
	@echo execute tests on latest go version	
	go test ./...
#	@echo execute tests on older supported go versions
	GOTOOLCHAIN=go1.24.13 go1.24.13 test ./...
#	@echo execute tests on the new go version
	GOTOOLCHAIN=go1.26rc3 go1.26rc3 test ./...
